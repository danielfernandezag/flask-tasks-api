(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{31:function(e,t,a){e.exports=a(58)},57:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"selectTask",function(){return L}),a.d(n,"filterTasks",function(){return K}),a.d(n,"fetchTasks",function(){return R}),a.d(n,"fetchAddTask",function(){return U}),a.d(n,"fetchDeleteTask",function(){return F}),a.d(n,"fetchToggleTaskDone",function(){return P}),a.d(n,"fetchUpdateTaskName",function(){return I}),a.d(n,"fetchUpdateTaskContent",function(){return G}),a.d(n,"fetchUpdateTaskDoneAll",function(){return M}),a.d(n,"fetchDeleteTasksAll",function(){return H});var r=a(0),c=a.n(r),o=a(13),s=a.n(o),l=a(3),i=a(11),u=a(29),d=a(30),m=a(1),f=a(14),p={tasks:[],filter:"all",keyword:"",loading:!1,selectedTask:{}},k=Object(f.a)(function(e){return e.tasks},function(e){return e.filter},function(e){return e.keyword},function(e,t,a){switch(t){case"done":return e.filter(function(e){return!1!==e.done});case"todo":return e.filter(function(e){return!0!==e.done});case"search":return e.filter(function(e){return(e.name.toLowerCase().includes(a.toLowerCase())||e.content.toLowerCase().includes(a.toLowerCase()))&&e});case"all":default:return e}}),h=Object(f.a)(function(e){return e.tasks},function(e){return e.filter(function(e){return!1!==e.done})}),E=Object(f.a)(function(e){return e.tasks},function(e){return e.filter(function(e){return!0!==e.done})}),b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_LOADING":return Object(m.a)({},e,{loading:!0});case"FETCH_DONE":return Object(m.a)({},e,{loading:!1});case"SET_TASKS":return Object(m.a)({},e,{tasks:t.tasks});case"ADD_TASK":return Object(m.a)({},e,{tasks:[].concat(Object(d.a)(e.tasks),[t.task])});case"DELETE_TASK":return Object(m.a)({},e,{tasks:e.tasks.filter(function(e){return e.id!==t.id})});case"TOGGLE_TASK_DONE":return Object(m.a)({},e,{tasks:e.tasks.map(function(e){return e.id===t.id?Object(m.a)({},e,{done:t.done}):e})});case"UPDATE_TASK_NAME":return Object(m.a)({},e,{tasks:e.tasks.map(function(e){return e.id===t.id?Object(m.a)({},e,{name:t.name}):e})});case"UPDATE_TASK_CONTENT":return Object(m.a)({},e,{tasks:e.tasks.map(function(e){return e.id===t.id?Object(m.a)({},e,{content:t.content}):e})});case"FILTER_TASKS":return Object(m.a)({},e,{filter:t.filter,keyword:t.keyword});case"SELECT_TASK":return Object(m.a)({},e,{selectedTask:e.tasks.filter(function(e){return e.id===t.id})});case"ALL_DONE":return Object(m.a)({},e,{tasks:e.tasks.map(function(e){return Object(m.a)({},e,{done:!0})})});case"ALL_TODO":return Object(m.a)({},e,{tasks:e.tasks.map(function(e){return Object(m.a)({},e,{done:!1})})});case"DELETE_ALL_TASKS":return Object(m.a)({},e,{tasks:[],filter:"all",keyword:"",loading:!1,selectedTask:{}});default:return e}},T=Object(i.c)({tasksState:b}),v=function(e){return k(e.tasksState)},g=function(e){return E(e.tasksState)},N=function(e){return h(e.tasksState)},O=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d,y=function(){return Object(i.e)(T,{},O(Object(i.a)(u.a)))},D=a(4),S=a(5),A=a(7),j=a(6),w=a(8),x=a(10),C=a.n(x),_="http://192.168.1.116:5000/tasks",L=function(e){return{type:"SELECT_TASK",id:e}},K=function(e){return{type:"FILTER_TASKS",filter:e,keyword:arguments.length>1&&void 0!==arguments[1]?arguments[1]:""}},R=function(){return function(e){e({type:"FETCH_LOADING"}),C.a.get(_+"/all",{mode:"cors"}).then(function(t){e({type:"SET_TASKS",tasks:t.data}),e({type:"FETCH_DONE"})}).catch(function(t){console.error(t),e({type:"FETCH_DONE"})})}},U=function(e,t){return function(a){C.a.post(_,{name:t,content:e}).then(function(e){a({type:"ADD_TASK",task:e.data})}).catch(function(e){console.error(e)})}},F=function(e){return function(t){C.a.delete(_+"/"+e).then(function(e){t({type:"DELETE_TASK",id:e.data.id})}).catch(function(e){console.error(e)})}},P=function(e){return function(t){C.a.put(_+"/done/"+e).then(function(e){var a;t({type:"TOGGLE_TASK_DONE",id:(a=e.data).id,done:a.done})}).catch(function(e){console.error(e)})}},I=function(e,t){return function(a){C.a.put(_+"/name/"+e,{name:t}).then(function(e){var t;a({type:"UPDATE_TASK_NAME",id:(t=e.data).id,name:t.name})}).catch(function(e){console.error(e)})}},G=function(e,t){return function(a){C.a.put(_+"/content/"+e,{content:t}).then(function(e){var t;a({type:"UPDATE_TASK_CONTENT",id:(t=e.data).id,content:t.content})}).catch(function(e){console.error(e)})}},M=function(e){return function(t){C.a.put(_+"/done/all",{done:e.toString()}).then(function(){t(e?{type:"ALL_DONE"}:{type:"ALL_TODO"})}).catch(function(e){console.error(e)})}},H=function(){return function(e){C.a.delete(_+"/all").then(function(){e({type:"DELETE_ALL_TASKS"})}).catch(function(e){console.error(e)})}},J=Object(m.a)({},n),X=function(e){function t(){var e,a;Object(D.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(A.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r)))).state={search:""},a.onSearchChange=function(e){return a.setState({search:e.target.value},function(){""===a.state.search?a.props.filterTasks("all"):a.props.filterTasks("search",a.state.search)})},a.onSubmit=function(e){e.preventDefault()},a}return Object(w.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this.props,t=e.filterTasks,a=e.filter,n=e.fetchUpdateTaskDoneAll,r=e.fetchDeleteTasksAll;return c.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark text-white bg-dark"},c.a.createElement("a",{className:"navbar-brand",href:!1},"Tasks App"),c.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},c.a.createElement("span",{className:"navbar-toggler-icon"})),c.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},c.a.createElement("ul",{className:"navbar-nav mr-auto"},c.a.createElement("li",{className:"nav-item"},c.a.createElement("a",{className:"nav-link",href:!1,onClick:r},"Delete All Tasks")),c.a.createElement("li",{className:"nav-item dropdown"},c.a.createElement("a",{className:"nav-link dropdown-toggle",href:!1,id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"search"===a&&c.a.createElement("span",null,"Filter Tasks"),"all"===a&&c.a.createElement("span",null,"Filter Tasks"),"done"===a&&c.a.createElement("span",null,"Done"),"todo"===a&&c.a.createElement("span",null,"To do")),c.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown"},c.a.createElement("a",{className:"dropdown-item",href:!1,onClick:function(){return t("all")}},"All"),c.a.createElement("a",{className:"dropdown-item",href:!1,onClick:function(){return t("done")}},"Done"),c.a.createElement("a",{className:"dropdown-item",href:!1,onClick:function(){return t("todo")}},"To do"))),c.a.createElement("li",{className:"nav-item"},c.a.createElement("a",{className:"nav-link",href:!1,tabIndex:"-1","aria-disabled":"true",onClick:function(){return n(!0)}},"Mark All As Done")),c.a.createElement("li",{className:"nav-item"},c.a.createElement("a",{className:"nav-link",href:!1,tabIndex:"-1","aria-disabled":"true",onClick:function(){return n(!1)}},"Mark All To Do"))),c.a.createElement("form",{className:"form-inline my-2 my-lg-0",onSubmit:this.onSubmit},c.a.createElement("input",{className:"form-control mr-sm-2",value:this.state.search,onChange:this.onSearchChange,name:"search",type:"search",placeholder:"Search","aria-label":"Search"}),c.a.createElement("button",{className:"btn btn-outline-success my-2 my-sm-0",type:"submit"},"Search"))))}}]),t}(r.Component);X.defaultProps={title:"Title",filterTasks:function(){return console.log("no action provided")},fetchUpdateTaskDoneAll:function(){return console.log("no action provided")},fetchDeleteTasksAll:function(){return console.log("no action provided")},filter:"all"};var B={filterTasks:J.filterTasks,fetchUpdateTaskDoneAll:J.fetchUpdateTaskDoneAll,fetchDeleteTasksAll:J.fetchDeleteTasksAll},V=Object(l.b)(function(e){return{filter:e.tasksState.filter}},B)(X),q=function(e){function t(){var e,a;Object(D.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(A.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r)))).nameRef=c.a.createRef(),a.contentRef=c.a.createRef(),a.state={name:"",content:"",nameError:!1,contentError:!1,existsError:!1},a.onNameChange=function(e){return a.setState({name:e.target.value})},a.onContentChange=function(e){return a.setState({content:e.target.value})},a.onSubmit=function(e){e.preventDefault();var t=a.props.tasks.find(function(t){return t.name===e.target.name.value});""!==e.target.name.value&&""!==e.target.content.value&&void 0===t?a.setState({nameError:!1,contentError:!1,existsError:!1},function(){a.props.fetchAddTask(a.state.content,a.state.name),a.setState({name:"",content:""},a.nameRef.current.focus())}):""===e.target.name.value?a.setState({nameError:!0,contentError:!1,existsError:!1},a.nameRef.current.focus()):""===e.target.content.value?a.setState({nameError:!1,contentError:!0,existsError:!1},a.contentRef.current.focus()):void 0!==t&&a.setState({nameError:!1,contentError:!1,existsError:!0,name:""},a.nameRef.current.focus())},a}return Object(w.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this.state,t=e.name,a=e.content,n=e.nameError,r=e.contentError,o=e.existsError;return c.a.createElement("form",{onSubmit:this.onSubmit},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"task-input-name"},"Task name"),c.a.createElement("input",{ref:this.nameRef,type:"text",value:t,name:"name",className:"form-control",id:"task-input-name","aria-describedby":"task-name-help",placeholder:"name",onChange:this.onNameChange}),c.a.createElement("small",{id:"task-name-help",className:"form-text ".concat(n||o?"text-danger":"text-muted")},o?"task already exists":"add task name.")),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"task-input-content"},"Task content"),c.a.createElement("input",{ref:this.contentRef,type:"text",value:a,name:"content",className:"form-control",id:"task-input-content","aria-describedby":"task-content-help",placeholder:"content",onChange:this.onContentChange}),c.a.createElement("small",{id:"task-content-help",className:"form-text ".concat(r?"text-danger":"text-muted")},"add task content.")),c.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block"},"Add"))}}]),t}(r.Component);q.defaultProps={fetchAddTask:function(){return console.log("no action provided")}};var z={fetchAddTask:J.fetchAddTask},Q=Object(l.b)(null,z)(q),W=function(e){function t(){return Object(D.a)(this,t),Object(A.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this.props,t=e.task,a=e.fetchToggleTaskDone,n=e.fetchDeleteTask;return c.a.createElement("div",{className:"card container"},c.a.createElement("div",{className:"card-body px-0"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-sm"},c.a.createElement("h5",{className:"card-title text-dark"},t.name)),c.a.createElement("div",{className:"col-sm"},c.a.createElement("h6",null,c.a.createElement("span",{class:"badge ".concat(t.done?"badge-success":"badge-info")},t.done?"done":"todo"))))),c.a.createElement("p",{className:"card-text text-dark"},t.content),c.a.createElement("div",{class:"row"},c.a.createElement("div",{class:"col-sm"},c.a.createElement("a",{href:!1,className:"btn btn-sm ".concat(t.done?"btn-success":"btn-info"," btn-block"),onClick:function(){return a(t.id)}},t.done?"Not done":"Done")),c.a.createElement("div",{class:"col-sm"},c.a.createElement("a",{href:!1,className:"btn btn-sm btn-danger btn-block",onClick:function(){return n(t.id)}},"Delete")))))}}]),t}(r.Component);W.defaultProps={task:{name:"mock task name",content:"mock task content",done:!1},fetchToggleTaskDone:function(){return console.log("no action provided")},fetchDeleteTask:function(){return console.log("no action provided")}};var Y={fetchToggleTaskDone:J.fetchToggleTaskDone,fetchDeleteTask:J.fetchDeleteTask},Z=Object(l.b)(null,Y)(W),$=function(e){function t(){return Object(D.a)(this,t),Object(A.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this.props,t=e.type,a=e.tasks,n=e.tasksDone,r=e.tasksTodo;return c.a.createElement("ul",{className:"list-group"},"all"===t&&a.map(function(e){return c.a.createElement("li",{key:e.id,className:"list-group-item px-0 py-0 mx-0"},c.a.createElement(Z,{task:e}))}),"todo"===t&&r.map(function(e){return c.a.createElement("li",{key:e.id,className:"list-group-item px-0 py-0 mx-0"},c.a.createElement(Z,{task:e}))}),"done"===t&&n.map(function(e){return c.a.createElement("li",{key:e.id,className:"list-group-item px-0 py-0 mx-0"},c.a.createElement(Z,{task:e}))}))}}]),t}(r.Component);$.defaultProps={tasks:[],tasksTodo:[],tasksDone:[],type:"all"};var ee=Object(l.b)(function(e){return{tasks:v(e),tasksTodo:g(e),tasksDone:N(e)}},null)($),te=(a(57),function(e){function t(){return Object(D.a)(this,t),Object(A.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(S.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchTasks()}},{key:"componentDidUpdate",value:function(e){if(e.tasks!==this.props.tasks&&this.props.tasks.length>0){var t=this.props.tasks[0].id;this.props.selectTask(t)}}},{key:"render",value:function(){var e=this.props,t=e.tasks,a=e.tasksDone,n=e.tasksTodo,r=e.filter,o=e.loading;return c.a.createElement("div",{className:"container-fluid px-0 mx-0"},c.a.createElement(V,{title:"Tasks App"}),c.a.createElement("div",{className:"row px-0 mx-0"},c.a.createElement("div",{className:"col-sm-2"}),c.a.createElement("div",{className:"col-sm-8"},c.a.createElement("div",{className:"card "},c.a.createElement("div",{className:"card-header text-white bg-dark"},c.a.createElement(Q,{tasks:t})),c.a.createElement("div",{className:"card-body text-white bg-dark"},c.a.createElement("div",{className:"container"},o?c.a.createElement("div",{className:"row"},c.a.createElement("div",{class:"spinner-grow text-primary mx-auto",style:{width:"4rem",height:"4rem"},role:"status"},c.a.createElement("span",{class:"sr-only"},"Loading..."))):c.a.createElement("div",{className:"row"},t.length>0&&c.a.createElement("div",{className:"col-sm "},c.a.createElement("h5",{className:"text-white"},r),c.a.createElement(ee,{type:"all"})),n.length>0&&c.a.createElement("div",{className:"col-sm "},c.a.createElement("h5",{className:"text-white"},"To do"),c.a.createElement(ee,{type:"todo"})),a.length>0&&c.a.createElement("div",{className:"col-sm"},c.a.createElement("h5",{className:"text-white"},"Done"),c.a.createElement(ee,{type:"done"}))))))),c.a.createElement("div",{className:"col-sm-2"})))}}]),t}(r.Component));te.defaultProps={tasks:[],tasksTodo:[],tasksDone:[],filter:"all",loading:!0,fetchTasks:function(){return console.log("no action provided")},selectTask:function(){return console.log("no action provided")}};var ae={fetchTasks:J.fetchTasks,selectTask:J.selectTask},ne=Object(l.b)(function(e){return{filter:e.tasksState.filter,tasks:v(e),tasksTodo:g(e),tasksDone:N(e),loading:e.tasksState.loading}},ae)(te);s.a.render(c.a.createElement(l.a,{store:y()},c.a.createElement(ne,null)),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.73ffc45d.chunk.js.map